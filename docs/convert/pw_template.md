---
layout: default
title:  "pw#template"
parent: Сериализатор
nav_order: 1
---

<details open markdown="block">
  <summary>
    Содержание
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>

{: .note-title }
> Символ "-" перед именем колонки означает, что поле удалено
> Описание колонки "Экспорт" (х - это  число)
> 
> * "х.х" - версия файла экспорта
> * "х.х *" - при экспорте изменяется, подробнее см. в [pw#template#file](pw_template_file.html)
> * (не заполнено) - не используется при экспорте

# pw#template

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| Реквизиты | [pw#template#attributes][1] | Основные реквизиты макета печатной формы | 5.0 |
| Таблицы   | [pw#template#tables][2]     | Данные таблиц макета печатной формы | 5.0 |
| Макет     | Произвольный                | Данные макета печатной формы | 5.0 * |

Макет может хранится в двух форматах:
* ТабличныйДокумент - для макетов в табличном документе
* ДвоичныеДанные - для макетов в формате *.docx

[в начало][0]

## pw#template#attributes

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| Имя               | Строка | Внутреннее имя макета печатной формы |  |
| Наименование      | Строка | Представление макета печатной формы |  |
| ЭтоРеестр         | Булево | Признак формирования реестра (по всем ссылкам) |  |
| КлючМакета        | Строка | Уникальный ключ макета сформированный программой |  |
| ВнешнийКлюч       | Строка | Уникальный ключ макета загруженный при импорте |  |
| ЭтоOfficeOpenXML  | Булево | Признак печатной формы в формате *.docx |  |
| ХешСумма          | Строка | Хеш сумма макета, используется для контроля наличия изменений |  |
| ОтметкаВремени    | Число | Отметка о времени последнего изменения |  |
| Описание          | [pw#template#about][3] | Дополнительная информация о печатной форме |  |

[в начало][0]

### pw#template#about

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| ПолноеНаименование        | Строка | Полное наименование печатной формы | 5.0 |
| НомерУнифицированнойФормы | Строка | № унифицированной формы | 5.0 |
| ОКУД                      | [pw_ОКУД][71] | ОКУД печатной формы (1) |  |
| НомерОКУД                 | Строка | Номер в ОКУД | 5.0 |
| НаименованиеОКУД          | Строка | Наименование в ОКУД | 5.0 |
| УтвержденаДокумент        | Строка |  | 5.0 |
| УтвержденаДата            | Дата |  | 5.0 |
| Комментарий               | Строка | Комментарий к макету печатной формы | 5.0 |

[в начало][0]

## pw#template#tables

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| Метаданные            | [pw#template#metadata#row][4] | Объекты метаданных, для которых создан макет | 5.0 * |
| Запросы               | [pw#template#queries#row][5] | Запросы к данным | 5.0 * |
| ЗапросыПоля           | [pw#template#query#fields#row][6] | Поля запросов данных | 5.0 * |
| Наборы                | [pw#template#datasets#row][7] | Наборы данных | 5.0 * |
| НаборыПоля            | [pw#template#dataset#fields#row][8] | Поля наборов данных | 5.0 * |
| НаборыСоединения      | [pw#template#dataset#joins#row][11] | Настройки соединения наборов | 5.0 * |
| Области               | [pw#template#areas#row][12] | Настройки областей макета печатной формы | 5.0 * |
| ОбластиПараметры      | [pw#template#area#parameters#row][13] | Настройки параметров областей макета | 5.0 * |
| ПараметрыЗапроса      | [pw#template#query#options#row][15] | Параметры для подстановки при выполнении запросов | 5.0 * |
| ПараметрыПечати       | [pw#template#print#options#row][16] | Параметры печати для табличного документа | 5.0 * |
| Алгоритмы             | [pw#template#algorithms#row][17] | Алгоритмы обработки событий макета | 5.0 * |
| Функции               | [pw#template#functions#row][22] | Функции макета печатной формы | 5.4 * |
| ФункцииПараметры      | [pw#template#function#parameters#row][23] | Параметры функций | 5.4 * |

Значением структуры для общего макета выступает ТаблицаЗначений. Для экспорта данные преобразовываются в Массив со структурами внутри.

[в начало][0]

### pw#template#metadata#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки                 | Число | Порядковый номер | 5.0 |
| ПолноеИмяОбъекта            | Строка | Полное имя объекта метаданных для печатной формы | 5.0 |
| КомандаПечати               | Булево | Создать команду печати по умолчанию | 5.0 |
| КомандаИдентификатор        | Строка | Идентификатор команды печати | 5.0 |
| КомандаПредставление        | Строка | Представление команды в меню Печать | 5.0 |
| КомандаПорядок              | Число | Значение от 1 до 100, указывающее порядок размещения команды по отношению к другим командам | 5.0 |
| КомандаФункциональныеОпции  | Строка | Имена функциональных опций, от которых зависит доступность команды печати, через запятую | 5.0 |
| КомандаПроверкаПроведения   | Булево | Признак необходимости проверки проведенности документов перед печатью | 5.0 |
| КомандаСразуНаПринтер       | Булево | Признак необходимости печати документов без предварительного просмотра | 5.0 |
| КомандаСписокФорм           | Строка | Имена форм, в которых должна отображаться команда, через запятую | 5.0 |

[в начало][0]

### pw#template#queries#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки               | Число | Порядковый номер | 5.0 |
| КлючСтроки                | Строка | Уникальный ключ запроса | 5.0 |
| ИмяЗапроса                | Строка |  | 5.0 |
| ТекстЗапроса              | Строка |  | 5.0 |
| ЭтоОбщийЗапрос            | Булево | Признак, что запрос не содержит отбора по ссылкам | 5.0 |
| ТипРезультата             | Строка | Тип данных в результате выполнения запроса | 5.0 |
| ИмяВременнойТаблицы       | Строка | Имя временной таблицы полученной в результате запроса | 5.0 |
| КоличествоПолейЗапроса    | Число | Количество полей в запросе | 5.0 |
| ЕстьОшибки                | Булево | Признак наличия ошибок в запросе | 5.0 |
| ТекстОшибки               | Строка | Описание ошибок в запросе | 5.0 |
| ТекстРекомендаций         | Строка | Описание рекомендаций для текущего запроса | 5.0 |

[в начало][0]

### pw#template#query#fields#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки       | Число | Порядковый номер | 5.0 |
| КлючСтроки        | Строка | Уникальный ключ запроса-владельца | 5.0 |
| КлючСтрокиПоля    | Строка | Уникальный ключ поля | 5.0 |
| ПолеЗапроса       | Строка | Имя поля в запросе | 5.0 |
| ИмяПоля           | Строка | Имя поля для пользователя | 5.0 |
| ТипДанных         | Строка | Строковое представление типа данных в поле | 5.0 |
| ЭтоПолеПечати     | Булево | Поле, рекомендованное для печатной формы | 5.0 |
| ТипНомерКартинки  | Число | Номер картинки в коллекции pw_ТипыДанных | 5.0 |

[в начало][0]

### pw#template#datasets#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки           | Число | Порядковый номер | 5.0 |
| КлючСтроки            | Строка | Уникальный ключ набора | 5.0 |
| ИмяНабора             | Строка | Имя набора данных | 5.0 |
| ВидНабора             | Строка | Вид формирования данных | 5.0 |
| ИспользоватьВМакете   | Булево | Разрешить использовать набор в макете | 5.0 |
| КлючСтрокиЗапроса     | Строка | Ключ строки запроса - основы набора | 5.0 |
| ИмяЗапроса            | Строка | Имя запроса | 5.0 |
| АлгоритмОбработкиВТ   | Неопределено | Не используется |  |
| ПроизвольныйАлгоритм  | Строка | Текст алгоритма обработки набора данных | 5.0 |
| КоличествоПолей       | Число | Количество полей в наборе | 5.0 |

[в начало][0]

### pw#template#dataset#fields#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки             | Число | Порядковый номер | 5.0 |
| КлючСтроки              | Строка | Уникальный ключ набора-владельца | 5.0 |
| КлючСтрокиПоля          | Строка | Уникальный ключ поля | 5.0 |
| ИмяПоля                 | Строка | Имя поля в наборе | 5.0 |
| ТипПоля                 | Строка | Тип поля | 5.0 |
| ЗначениеJSON            | Строка | Настройка поля в JSON, подробнее см. [pw#field#...][19] | 5.0 |
| ЗначениеТекст           | Строка | Представление настройки поля | 5.0 |
| ЭтоПолеПечати           | Булево | Поле, рекомендованное для печатной формы | 5.0 |
| ТипДанных               | Строка | Строковое представление типа данных в поле | 5.0 |
| ТекстАлгоритма          | Строка | Текст алгоритма, для полей с типом "ВычисляемоеПоле" | 5.0 |
| ЕстьДопСвойства         | Булево | Признак наличия доп. свойств для поля | 5.0 |
| ТипНомерКартинки        | Число | Номер картинки в коллекции pw_ТипыДанных | 5.0 |
| КартинкаСвязи           | Число | Номер картинки в коллекции pw_КоллекцияПолеВМакете | 5.0 |

[в начало][0]

### pw#template#dataset#joins#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки           | Число | Порядковый номер | 5.0 |
| КлючСтроки            | Строка | Уникальный ключ соединения | 5.0 |
| ИмяСоединения         | Строка | Имя для представления правой стороны соединения в доступных полях | 5.0 |
| ВидНабора             | Строка | Вид формирования данных | 5.0 |
| КлючСтрокиНабораЛево  | Строка | Ключ набора, левая сторона | 5.0 |
| КлючСтрокиНабораПраво | Строка | Ключ набора, правая сторона | 5.0 |
| КлючСтрокиПоляЛево    | Строка | Ключ поля набора, левая сторона | 5.0 |
| КлючСтрокиПоляПраво   | Строка | Ключ поля набора, правая сторона | 5.0 |
| ИмяНабораЛево         | Строка | Имя набора, левая сторона | 5.0 |
| ИмяНабораПраво        | Строка | Имя набора, правая сторона | 5.0 |
| ИмяПоляЛево           | Строка | Имя поля набора, левая сторона | 5.0 |
| ИмяПоляПраво          | Строка | Имя поля набора, правая сторона | 5.0 |

[в начало][0]

### pw#template#areas#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки               | Число | Порядковый номер | 5.0 |
| КлючСтроки                | Строка | Уникальный ключ области | 5.0 |
| ИмяОбласти                | Строка | Имя области как оно задано в макете | 5.0 |
| СпособВывода              | Строка | Способ вывода области макета в печатную форму | 5.0 |
| КлючСтрокиНабора          | Строка | Ключ набора для повтора при печати, для способа вывода ПоСтрокамКоллекции | 5.0 |
| ИмяНабора                 | Строка | Имя набора для повтора при печати, для способа вывода ПоСтрокамКоллекции | 5.0 |
| ИмяПараметраПереноса      | Строка | Имя спец. области, для способа вывода ПереносСтроки | 5.0 |
| ИмяКонтрольнойОбласти1    | Строка | Имя спец. области, для способа вывода ПереносСтроки | 5.0 |
| ИмяКонтрольнойОбласти2    | Строка | Имя спец. области, для способа вывода ПереносСтроки | 5.0 |
| ИмяДополнительнойОбласти  | Строка | Имя спец. области, для способа вывода ПереносСтроки | 5.0 |
| КоличествоПараметров      | Число | Количество параметров в области | 5.0 |
| ПолеСортировки            | Число | Поля для сортировки областей в по порядку | 5.0 |
| НастройкаВывода           | Строка | Настройка вывода области (повтор в шапке, подвале, перенос) | 5.0 |

[в начало][0]

### pw#template#area#parameters#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки               | Число | Порядковый номер | 5.0 |
| КлючСтрокиОбласти         | Строка | Ключ области-владельца | 5.0 |
| КлючСтроки                | Строка | Ключ параметра | 5.0 |
| ИмяПараметра              | Строка | Имя параметра, как оно задано в макете | 5.0 |
| ЭтоРасшифровка            | Булево | Признак, что параметр используется для расшифровки | 5.0 |
| ТипПараметра              | Строка | Тип заполнения параметра данными | 5.0 |
| ЗначениеJSON              | Строка | Настройка параметра в JSON, подробнее см. [pw#field#...][19] | 5.0 |
| ЗначениеТекст             | Строка | Представление настройки параметра | 5.0 |
| ФорматЗначения            | [pw#format#all][20] | Настройка форматирования значения, перед установкой в параметр | 5.1 |
| ТипДанных                 | Строка | Строковое представление типа данных в параметра | 5.0 |
| ТипНомерКартинки          | Число | Номер картинки в коллекции pw_ТипыДанных | 5.0 |

[в начало][0]

### pw#template#query#options#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки       | Число | Порядковый номер | 5.0 |
| ИмяПараметра      | Строка | Имя параметра запроса | 5.0 |
| ТипДанных         | Строка | Строковое представление типа данных в параметра | 5.0 |
| ЭтоАлгоритм       | Булево | Признак, что параметр заполняется алгоритмом | 5.0 |
| ЭтоСписок         | Булево | Признак, что параметр заполняется списком значений | 5.0 |
| Значение          | Строка | Значение параметра в сериализованном значении XML | 5.0 * |
| ЗначениеТекст     | Строка | Строковое представление значения параметра | 5.0 |
| ТипНомерКартинки  | Число | Номер картинки в коллекции pw_ТипыДанных | 5.0 |

При экспорте, поле "Значение" заменяется из строкового значения на структуру [pw#value#internal][18].

[в начало][0]

### pw#template#print#options#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки       | Число | Порядковый номер | 5.0 |
| ИмяПараметра      | Строка | Имя параметра настройки печати | 5.0 |
| ЗначениеПараметра | Строка | Значение настройки печати | 5.0 |

[в начало][0]

### pw#template#algorithms#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки     | Число | Порядковый номер | 5.0 |
| ИмяСобытия      | Строка | Имя события | 5.0 |
| ТекстАлгоритма  | Строка | Текст алгоритма обработки события | 5.0 |
| ОписаниеСобытия | Строка | Описание события | 5.0 |

[в начало][0]

### pw#template#functions#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки  | Число  | Порядковый номер | 5.4 |
| Ключ         | Строка | Ключ функции | 5.4 |
| Имя          | Строка | Имя функции | 5.4 |
| Алгоритм     | Строка | Текст функции | 5.4 |
| Описание     | Строка | Описание функции | 5.4 |

[в начало][0]

### pw#template#function#parameters#row

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| НомерСтроки       | Число  | Порядковый номер | 5.4 |
| КлючФункции       | Строка | Ключ функции | 5.4 |
| Ключ              | Строка | Ключ параметра | 5.4 |
| Имя               | Строка | Имя параметра | 5.4 |
| ТипДанных         | Строка | Тип данных параметра | 5.4 |
| Описание          | Строка | Описание функции | 5.4 |
| ТипНомерКартинки  | Число  | Номер картинки в коллекции pw_ТипыДанных | 5.4 |

[в начало][0]

## pw#value#internal

| Имя | Тип | Описание | Экспорт |
|--|--|--|--|
| СтрокаXML                 | Строка | Сериализованное в XML значение | 5.0 |
| ПолноеИмя                 | Строка | Полное имя объекта метаданных | 5.0 |
| Идентификатор             | Строка | Уникальный идентификатор ссылки | 5.0 |
| Реквизиты                 | Структура | Значения реквизитов для поиска по наименованию, коду и т.д. | 5.0 |
| ИмяПредопределенныхДанных | Строка | Имя предопределенного элемента | 5.0 |

- для простых типов, а также типов не связанных с метаданными конфигурации заполняется только значение СтрокаXML;
- для перечислений имя значения перечисления заполняется ИмяПредопределенныхДанных
- для всех ссылок заполняется Идентификатор
- поле "ИмяПредопределенныхДанных" заполняется для: Справочник, ПланВидовРасчета, ПланСчетов, ПланВидовХарактеристик (по возможности)
- поле "Реквизиты" заполняется следующим образом:
  - ПВХ.ДополнительныеРеквизитыИСведения: Имя
  - Спр.ВидыКонтактнойИнформации: ИмяПредопределенногоВида, Наименование, ИдентификаторДляФормул
  - Справочник,ПланВидовРасчета,ПланОбмена,ПланСчетов: Наименование, Код
  - Задача: Наименование, Номер
  - БизнесПроцесс,Документ: Дата, Номер

[в начало][0]

[0]: #pwtemplate
[1]: #pwtemplateattributes
[2]: #pwtemplatetables
[3]: #pwtemplateabout
[4]: #pwtemplatemetadatarow
[5]: #pwtemplatequeriesrow
[6]: #pwtemplatequeryfieldsrow
[7]: #pwtemplatedatasetsrow
[8]: #pwtemplatedatasetfieldsrow
[11]: #pwtemplatedatasetjoinsrow
[12]: #pwtemplateareasrow
[13]: #pwtemplateareaparametersrow
[15]: #pwtemplatequeryoptionsrow
[16]: #pwtemplateprintoptionsrow
[17]: #pwtemplatealgorithmsrow
[22]: #pwtemplatefunctionsrow
[23]: #pwtemplatefunctionparametersrow
[18]: #pwvalueinternal
[19]: ./pw_field_json.html
[20]: ./pw_format.html#pwformatall

[71]: ../17_objects.html#pw_окуд

